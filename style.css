/* 
  style.css — Global styles for forms, party blocks, affidavit editor, and previews
  ------------------------------------------------------------------------------
  Purpose:
    • Provide consistent typography and layout for all pages.
    • Style dynamic party rows, controls, and affidavit body editor.
    • Include a Word-like preview style for the General Heading block.
*/

/* ===== Headings ===== */
h1 {
  color: black;
  background: linear-gradient(to right, #20d38c, #1c69ed, #8a32cd, #de0e98);
  -webkit-background-clip: text;            /* Chrome, Safari, Edge */
  -webkit-text-fill-color: transparent;     /* Chrome, Safari, Edge */
  background-clip: text;                    /* Firefox */
  color: transparent;
  font-size: 30px;
}

/* Basic form fieldset width constraint (desktop-friendly) */
fieldset { width: 600px; }

/* Role detail box is toggled via JS; default hidden */
#role-detail-box {
  display: none;
  margin-top: 8px;
}

/* ===== Party form (Plaintiff / Defendant) unified styling ===== */

/* Card-like block around each party input set */
.party-block {
  border: 1px solid #e5e5e5;
  border-radius: 8px;
  padding: 12px 0;
  background: #fff;
}

/* Container for dynamically added rows (grid for clean vertical spacing) */
.party-list {
  display: grid;
  gap: 12px;
  max-width: 700px;
}

/* “– OR –” separator between person vs company inputs */
.or-separator {
  text-align: left;
  font-weight: 600;
  color: #666;
  margin: 10px 0;
  letter-spacing: 1px;
}

/* Row-level action buttons (add/remove) aligned to the right */
.party-actions {
  display: flex;
  gap: 8px;
  justify-content: flex-end;
  margin-top: 8px;
}

/* Uniform button styling across the app */
button,
.add-party-btn,
.remove-party-btn {
  background: none;
  border: 1px solid #ccc;
  border-radius: 6px;
  padding: 6px 12px;
  font-size: 14px;
  cursor: pointer;
  color: #000;
  transition: background-color 0.15s ease, border-color 0.15s ease;
}
button:hover,
.add-party-btn:hover,
.remove-party-btn:hover {
  background-color: #f5f5f5;
  border-color: #bbb;
}
button:disabled,
.add-party-btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

/* Two inputs side by side using flexbox (no CSS grid dependency) */
.name-row {
  display: flex;
  gap: 12px; /* space between First and Last columns */
}

/* Optional cell wrapper for label+input alignment (kept for compatibility) */
.name-row .cell {
  display: flex;
  align-items: center;
  gap: 8px;
  flex: 1;   /* both columns equal width */
  min-width: 0;
}
.name-row .cell label {
  width: 100px;     /* consistent label column */
  text-align: left;
  color: #000;
}
.name-row .cell input[type="text"] {
  flex: 1;
  min-width: 0;
  padding: 6px;
  border: 1px solid #ccc;
  border-radius: 6px;
}

/* Mobile fallback: stack name fields vertically */
@media (max-width: 600px) {
  .name-row { flex-direction: column; }
  .name-row .cell label { width: auto; }
}

/* --- Helper/utility for screen readers --- */
.visually-hidden {
  position: absolute !important;
  clip: rect(1px,1px,1px,1px);
  padding: 0;
  border: 0;
  height: 1px;
  width: 1px;
  overflow: hidden;
  white-space: nowrap;
}

/* Spacing utilities (used by markup/JS) */
.mt-6  { margin-top: .5rem; }
.mt-12 { margin-top: .75rem; }  /* used for the intro <p> */
.ml-6  { margin-left: .5rem; }

/* ===== Affidavit body page layout ===== */

/* Generic card container used by previews and editor */
.card {
  border: 1px solid #e5e5e5;
  border-radius: 12px;
  padding: 14px;
  margin: 14px 0;
}

/* (Reserved) “Style of cause” layout for future use */
.style-of-cause {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  gap: 8px;
  align-items: center;
}
.vs { text-align: center; font-weight: 700; }
.muted { color: #666; }

/* Paragraph rows layout: left (number/controls) | middle (text) | right (file) */
.row {
  display: grid;
  grid-template-columns: 140px 1fr 320px;
  gap: 16px 24px;
  align-items: start;
  margin-bottom: 24px;
}

/* Sub-layout in the left column (stacked controls) */
.para-num-row {
  display: flex;
  flex-direction: column;
  gap: 8px;
  align-items: flex-start;
}

/* Keep numeric input and Apply button on one line */
.num-controls {
  display: flex;
  gap: 8px;
  align-items: center;
  flex-wrap: wrap;
}

/* Larger default text area for affidavit paragraphs */
textarea {
  width: 100%;
  min-height: 140px;   /* a bit taller by default */
  padding: 0.6rem;
  border: 1px solid #ccc;
  border-radius: 8px;
}

/* Inputs used in the left/right columns */
input[type="number"],
input[type="file"] {
  padding: 0.5rem;
  border: 1px solid #ccc;
  border-radius: 8px;
}
.row-file label {
  display: block;
  margin-bottom: 6px;
}

/* Responsive: stack the file column under text on narrower screens */
@media (max-width: 1100px) {
  .row {
    grid-template-columns: 160px 1fr; /* number | text */
  }
  .row-file {
    grid-column: 1 / -1;  /* file column goes full width below */
  }
}

/* Badges and top toolbar */
.pill {
  font: 600 .85rem/1 system-ui;
  padding: .2rem .5rem;
  border: 1px solid #ddd;
  border-radius: 999px;
}
.toolbar {
  display: flex;
  justify-content: space-between;
  gap: 8px;
  margin-bottom: 10px;
}

/* Apply button for move control (with hover/disabled states) */
.applyReorder {
  padding: 0.4rem 0.7rem;
  border: 1px solid #ccc;
  border-radius: 8px;
  background-color: #f6f6f6;
  cursor: pointer;
  font-size: 0.9rem;
  transition: background-color 0.15s;
}
.applyReorder:hover { background-color: #eaeaea; }
.applyReorder[disabled] { opacity: .6; cursor: not-allowed; }

/* === Inline “Paragraph No.” label + current number badge === */
.no-inline {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-weight: 600;
  margin-bottom: 6px;
}

/* Move controls: label above, input+button on one line below */
.move-controls {
  display: flex;
  flex-direction: column; /* label above */
  gap: 4px;               /* space between label and input row */
}
.row-num .num {
  width: 5.5ch;           /* fits up to ~4-digit paragraph numbers */
  text-align: center;
  padding: 4px 6px;
}

/* ============================================================================
   General Heading preview (scoped, Word-like)
   ============================================================================ */
#heading .gh {
  max-width: 6.5in;              /* 8.5" page with ~1" side margins */
  margin: 0 auto 10px auto;      /* center within card */
  padding: 0;
  font-family: "Times New Roman", Times, serif; /* Word-like appearance */
}
#heading .gh-line { line-height: 2; margin: 0; }   /* double spaced */
#heading .gh-file-no { text-align: right; }        /* L1 */
#heading .gh-court {                                /* L2 */
  text-align: center;
  font-weight: 700;
  font-style: italic;
  text-transform: uppercase;
}
#heading .gh-between { text-align: left; font-weight: 600; } /* L3 */
#heading .gh-parties, #heading .gh-and { text-align: center; } /* L4,L6,L7 */
#heading .gh-and { letter-spacing: 0.5px; font-weight: 600; }  /* L6 */
#heading .gh-role { text-align: right; font-style: normal; }   /* L5,L8 */

/* --- Simple modal for export scheme selection --- */
.modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.35);
  display: none;                 /* hidden by default */
  align-items: center;
  justify-content: center;
  padding: 16px;
  z-index: 1000;
}
.modal[aria-hidden="false"] { display: flex; }
.modal-dialog {
  background: #fff;
  border-radius: 12px;
  padding: 18px 20px;
  max-width: 460px;
  width: 100%;
  box-shadow: 0 10px 30px rgba(0,0,0,.2);
}
.modal-dialog h3 { margin: 0 0 6px 0; }
#schemeForm { display: grid; gap: 8px; margin: 12px 0 16px; }
.modal-actions { display: flex; gap: 8px; justify-content: flex-end; }

/* =========================================================
   EXHIBIT SCHEME TOGGLE (letters | numbers)
   ========================================================= */
.scheme-control {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  margin-left: 8px;     /* spacing from Redo button */
  font-size: 14px;
}
.scheme-label { color: #444; }
.scheme-option { font-weight: 600; }

/* iOS-style switch */
.switch {
  position: relative;
  display: inline-block;
  width: 42px;
  height: 24px;
}
.switch input { display: none; }
.slider {
  position: absolute;
  cursor: pointer;
  inset: 0;
  background: #ccc;
  border-radius: 24px;
  transition: 0.2s;
}
.slider:before {
  content: "";
  position: absolute;
  height: 18px;
  width: 18px;
  left: 3px;
  top: 3px;
  background: white;
  border-radius: 50%;
  box-shadow: 0 1px 3px rgba(0,0,0,.25);
  transition: 0.2s;
}
.switch input:checked + .slider { background: #4caf50; }
.switch input:checked + .slider:before { transform: translateX(18px); }

/* ===== Controls Toolbar Layout (Add / Undo / Redo / Exhibit Toggle) ===== */
.controls {
  margin: 0.5rem 0 1rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: nowrap; /* keeps bar on one line */
}

.controls-right {
  margin-left: auto;
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap; /* graceful wrapping on very narrow screens */
}
